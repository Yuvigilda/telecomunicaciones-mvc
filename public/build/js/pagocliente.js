!function(){const e=document.querySelector("#servicios");if(e){let t=[],s=[];const o=document.querySelector("#listado-servicios"),c=document.querySelector('[name="id_servicio"]');function i(e){const i=e.target,t=document.querySelector(".listado-servicios__servicio--seleccionado");t&&t.classList.remove("listado-servicios__servicio--seleccionado"),i.classList.add("listado-servicios__servicio--seleccionado"),c.value=i.dataset.servicioId}!async function(){const e=await fetch("/api/servicios");!function(e=[]){t=e.map(e=>({mbps:`${e.mbps.trim()}`,id:e.id}))}(await e.json())}(),e.addEventListener("input",function(e){const c=e.target.value;if(c.length>3){const e=new RegExp(c,"i");s=t.filter(i=>{if(-1!==i.nombre.toLowerCase().search(e))return i})}else s=[];!function(){for(;o.firstChild;)o.removeChild(o.firstChild);if(s.length>0)s.forEach(e=>{const t=document.createElement("LI");t.classList.add("listado-servicios__servicio"),t.textContent=e.mbps,t.dataset.servicioId=e.id,t.onclick=i,o.appendChild(t)});else{const e=document.createElement("P");e.classList.add("listado-servicios__no-resultado"),e.textContent="No hay resultados coincidentes",o.appendChild(e)}}()}),c.value&&(async()=>{const e=await async function(e){const i=`/api/servicio?id=${e}`,t=await fetch(i);return await t.json()}(c.value),{mbps:i}=e,t=document.createElement("LI");t.classList.add("listado-servicios__servicio","listado-servicios__servicio--seleccionado"),t.textContent=`${i}`,o.appendChild(t)})()}}();